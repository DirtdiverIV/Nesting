<h1>Formulario de venta/alquiler</h1>
<div class="d-flex flex-row">
  <form [formGroup]="propertyForm" (ngSubmit)="onSubmit()">
    <!-- <div class="form-floating">
      <select
        class="form-select"
        id="propertyTypeSelect"
        aria-label="Floating label select example"
      >
        <option selected>Tipo propiedad</option>
        <option value="1">Casa</option>
        <option value="2">Piso</option>
        <option value="3">Terreno</option>
        <option value="4">Solar</option>
      </select>
    </div> -->

    <div class="dropdown">
      <button class="btn btn-secondary dropdown-toggle" type="button" id="propertyTypeDropdown" data-bs-toggle="dropdown" aria-expanded="false">
        {{ selectedPropertyType }}
      </button>
      <ul class="dropdown-menu" aria-labelledby="propertyTypeDropdown">
        <li><a class="dropdown-item" (click)="selectPropertyType(1)">Tipo propiedad</a></li>
        <li><a class="dropdown-item" (click)="selectPropertyType(2)">Casa</a></li>
        <li><a class="dropdown-item" (click)="selectPropertyType(3)">Piso</a></li>
        <li><a class="dropdown-item" (click)="selectPropertyType(4)">Terreno</a></li>
        <li><a class="dropdown-item" (click)="selectPropertyType(5)">Solar</a></li>
      </ul>
    </div>



    <!-- <div class="form-floating">
      <select
        class="form-select"
        id="transactionTypeSelect"
        aria-label="Floating label select example"
      >
        <option selected>Tipo transacción</option>
        <option value="1">Venta</option>
        <option value="2">Alquiler</option>
      </select>
    </div> -->

    <div class="dropdown">
      <button class="btn btn-secondary dropdown-toggle" type="button" id="transactionTypeDropdown" data-bs-toggle="dropdown" aria-expanded="false">
        {{ selectedTransactionType }}
      </button>
      <ul class="dropdown-menu" aria-labelledby="transactionTypeDropdown">
        <li><a class="dropdown-item" (click)="selectTransactionType('Tipo transacción')">Tipo transacción</a></li>
        <li><a class="dropdown-item" (click)="selectTransactionType('Venta')">Venta</a></li>
        <li><a class="dropdown-item" (click)="selectTransactionType('Alquiler')">Alquiler</a></li>
      </ul>
    </div>

    <!-- <div class="form-floating">
      <select
        class="form-select"
        id="bathroomsSelect"
        aria-label="Floating label select example"
      >
        <option selected>Baños</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
      </select>
    </div> -->

    <div class="dropdown">
      <button class="btn btn-secondary dropdown-toggle" type="button" id="bathroomsDropdown" data-bs-toggle="dropdown" aria-expanded="false">
        {{ selectedBathrooms }}
      </button>
      <ul class="dropdown-menu" aria-labelledby="bathroomsDropdown">
        <li><a class="dropdown-item" (click)="selectBathrooms('1')">Baños</a></li>
        <li><a class="dropdown-item" (click)="selectBathrooms('2')">1</a></li>
        <li><a class="dropdown-item" (click)="selectBathrooms('3')">2</a></li>
        <li><a class="dropdown-item" (click)="selectBathrooms('4')">3</a></li>
        <li><a class="dropdown-item" (click)="selectBathrooms('5')">4</a></li>
        <li><a class="dropdown-item" (click)="selectBathrooms('6')">5</a></li>
        <li><a class="dropdown-item" (click)="selectBathrooms('7')">6</a></li>
      </ul>
    </div>

    <!-- <div class="form-floating">
      <select
        class="form-select"
        id="bedroomsSelect"
        aria-label="Floating label select example"
      >
        <option selected>Habitaciones</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
      </select>
    </div> -->


    <div class="dropdown">
      <button class="btn btn-secondary dropdown-toggle" type="button" id="bedroomsDropdown" data-bs-toggle="dropdown" aria-expanded="false">
        {{ selectedBedrooms }}
      </button>
      <ul class="dropdown-menu" aria-labelledby="bedroomsDropdown">
        <li><a class="dropdown-item" (click)="selectBedrooms('1')">Habitaciones</a></li>
        <li><a class="dropdown-item" (click)="selectBedrooms('2')">1</a></li>
        <li><a class="dropdown-item" (click)="selectBedrooms('3')">2</a></li>
        <li><a class="dropdown-item" (click)="selectBedrooms('4')">3</a></li>
        <li><a class="dropdown-item" (click)="selectBedrooms('5')">4</a></li>
        <li><a class="dropdown-item" (click)="selectBedrooms('6')">5</a></li>
        <li><a class="dropdown-item" (click)="selectBedrooms('7')">6</a></li>
        <li><a class="dropdown-item" (click)="selectBedrooms('8')">7</a></li>
        <li><a class="dropdown-item" (click)="selectBedrooms('9')">8</a></li>
      </ul>
    </div>

 

    <!-- <div class="form-floating">
      <select
        class="form-select"
        id="citySelect"
        aria-label="Ciudad"
        formControlName="city"
        (change)="onCitySelect()"
       
      >
        <option value>Selecciona una ciudad</option>
        <option value="Madrid">Madrid</option>
        <option value="Barcelona">Barcelona</option>
        <option value="Balencia">Valencia</option>
        <option value="Oviedo">Oviedo</option>
        </select>
      </div> -->

      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle" type="button" id="cityDropdown" data-bs-toggle="dropdown" aria-expanded="false">
          <!-- {{ propertyForm.get('city')?.value ? propertyForm.get('city')?.value : 'Selecciona una ciudad' }} -->{{ getCityValue() }}
        </button>
        <ul class="dropdown-menu" aria-labelledby="cityDropdown">
          <li>
            <a class="dropdown-item" (click)="selectCity('')">Selecciona una ciudad</a>
          </li>
          <li *ngFor="let city of cities">
            <a class="dropdown-item" (click)="selectCity(city.name)">{{ city.name }}</a>
          </li>
        </ul>
      </div>

<!-- 
      <div class="form-floating">
        <select
        class="form-select custom-select-for-cp"
          id="postalCodeSelect"
          aria-label="Código Postal"
          formControlName="postalCode"
          [ngClass]="{'disabled': !propertyForm.get('city')?.value}"

          
          
        >
        <option value=""  [disabled]="!propertyForm.get('city')?.value">Código postal</option>
        <option *ngFor="let code of filteredPostalCodes" [value]="code">{{ code }}</option>
        
        </select>
        
      </div> -->
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle" type="button" id="postalCodeDropdown" data-bs-toggle="dropdown" [disabled]="!propertyForm.get('city')?.value" aria-expanded="false">
          <!-- {{ propertyForm.get('postalCode')?.value ? propertyForm.get('postalCode')?.value : 'Código postal' }} --> {{ getPostalCodeValue() }}
        </button>
        <ul class="dropdown-menu" aria-labelledby="postalCodeDropdown">
          <li>
            <a class="dropdown-item" (click)="selectPostalCode('')">Código postal</a>
          </li>
          <li *ngFor="let code of filteredPostalCodes">
            <a class="dropdown-item" (click)="selectPostalCode(code)">{{ code }}</a>
          </li>
        </ul>
      </div>
      <button type="submit" class="btn">Enviar</button>
  </form >
  <div class="container-fluid">
  <div class="form-floating">
    <textarea
      class="form-control"
      placeholder="Superficie"
      id="surfaceTextarea"
    ></textarea>
    <label for="floatingTextarea">Superficie</label>
  </div>

  <div class="form-floating">
    <textarea
      class="form-control"
      placeholder="Importe €"
      id="priceTextarea"
    ></textarea>
    <label for="floatingTextarea">Importe €</label>
  </div>
</div>

  <div class="container">
    <p><label for="description">Descripción:</label></p>

    <textarea
      id="description"
      name="description"
      rows="20"
      cols="120"
    ></textarea>
    <div class="d-flex flex-row-reverse">
    <app-previewbtn></app-previewbtn>
    
    <app-file-upload></app-file-upload>
  </div>
  </div>
</div>










